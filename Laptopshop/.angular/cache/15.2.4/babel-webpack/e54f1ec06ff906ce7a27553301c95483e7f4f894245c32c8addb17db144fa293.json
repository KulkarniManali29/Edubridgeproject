{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"../service/orderservice.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction PaymentComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 21);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"Payment failed: \", ctx_r1.error, \"\");\n  }\n}\nfunction PaymentComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"Payment Success. Payment ID: \", ctx_r2.paymentId, \"\");\n  }\n}\nfunction PaymentComponent_div_12_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Name is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction PaymentComponent_div_12_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Name must be at least 3 characters\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction PaymentComponent_div_12_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Name must be at most 20 characters\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction PaymentComponent_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 23);\n    i0.ɵɵtemplate(1, PaymentComponent_div_12_div_1_Template, 2, 0, \"div\", 24);\n    i0.ɵɵtemplate(2, PaymentComponent_div_12_div_2_Template, 2, 0, \"div\", 24);\n    i0.ɵɵtemplate(3, PaymentComponent_div_12_div_3_Template, 2, 0, \"div\", 24);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const _r3 = i0.ɵɵreference(11);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r3.errors);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r3.errors);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r3.errors);\n  }\n}\nfunction PaymentComponent_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 21);\n    i0.ɵɵtext(1, \"Email is required!\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction PaymentComponent_div_24_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Phone is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction PaymentComponent_div_24_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Phone must be 10 digits\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction PaymentComponent_div_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 21);\n    i0.ɵɵtemplate(1, PaymentComponent_div_24_div_1_Template, 2, 0, \"div\", 24);\n    i0.ɵɵtemplate(2, PaymentComponent_div_24_div_2_Template, 2, 0, \"div\", 24);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const _r7 = i0.ɵɵreference(23);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r7.errors);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r7.errors || _r7.errors);\n  }\n}\nfunction PaymentComponent_div_30_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Amount is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction PaymentComponent_div_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 21);\n    i0.ɵɵtemplate(1, PaymentComponent_div_30_div_1_Template, 2, 0, \"div\", 24);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const _r9 = i0.ɵɵreference(29);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r9.errors);\n  }\n}\nexport class PaymentComponent {\n  constructor(http, orderService) {\n    this.http = http;\n    this.orderService = orderService;\n    this.title = 'laptopshop';\n    this.form = {};\n    this.paymentId = '';\n    this.error = '';\n    this.options = {\n      \"key\": \"\",\n      \"amount\": \"\",\n      \"name\": \"Manali kulkarni\",\n      \"description\": \"\",\n      \"image\": \"https://www.javachinna.com/wp-content/uploads/2020/02/android-chrome-512x512-1.png\",\n      \"order_id\": \"\",\n      \"handler\": function (response) {\n        var event = new CustomEvent(\"payment.success\", {\n          detail: response,\n          bubbles: true,\n          cancelable: true\n        });\n        window.dispatchEvent(event);\n      },\n      \"prefill\": {\n        \"name\": \"\",\n        \"email\": \"\",\n        \"contact\": \"\"\n      },\n      \"notes\": {\n        \"address\": \"\"\n      },\n      \"theme\": {\n        \"color\": \"#3399cc\"\n      }\n    };\n  }\n  ngOnInit() {}\n  sayHello() {\n    alert(\"Hello DK\");\n  }\n  onSubmit() {\n    this.paymentId = '';\n    this.error = '';\n    this.orderService.createOrder(this.form).subscribe(data => {\n      this.options.key = data.secretId;\n      this.options.order_id = data.razorpayOrderId;\n      this.options.amount = data.applicationFee; //paise\n      this.options.prefill.name = \"Dipali Bharate\";\n      this.options.prefill.email = \"dipabharat\";\n      this.options.prefill.contact = \"9373280950\";\n      if (data.pgName === 'razor2') {\n        this.options.image = \"\";\n        var rzp1 = new Razorpay(this.options);\n        rzp1.open();\n      } else {\n        var rzp2 = new Razorpay(this.options);\n        rzp2.open();\n      }\n      rzp1.on('payment.failed', function (response) {\n        // Todo - store this information in the server\n        console.log(response);\n        console.log(response.error.code);\n        console.log(response.error.description);\n        console.log(response.error.source);\n        console.log(response.error.step);\n        console.log(response.error.reason);\n        console.log(response.error.metadata.order_id);\n        console.log(response.error.metadata.payment_id);\n        //this.error = response.error.reason;\n      });\n    }, err => {\n      this.error = err.error.message;\n    });\n  }\n  onPaymentSuccess(event) {\n    console.log(event.detail);\n  }\n}\nPaymentComponent.ɵfac = function PaymentComponent_Factory(t) {\n  return new (t || PaymentComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.OrderServiceService));\n};\nPaymentComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: PaymentComponent,\n  selectors: [[\"app-payment\"]],\n  hostBindings: function PaymentComponent_HostBindings(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵlistener(\"payment.success\", function PaymentComponent_payment_success_HostBindingHandler($event) {\n        return ctx.onPaymentSuccess($event);\n      }, false, i0.ɵɵresolveWindow);\n    }\n  },\n  decls: 34,\n  vars: 10,\n  consts: [[1, \"col-md-12\"], [1, \"card\", \"card-container\"], [\"name\", \"form\", \"novalidate\", \"\", 3, \"ngSubmit\"], [\"f\", \"ngForm\"], [1, \"form-group\"], [\"class\", \"alert alert-danger\", \"role\", \"alert\", 4, \"ngIf\"], [\"class\", \"alert alert-success\", \"role\", \"alert\", 4, \"ngIf\"], [\"for\", \"name\"], [\"type\", \"text\", \"name\", \"name\", \"required\", \"\", \"minlength\", \"3\", \"maxlength\", \"20\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"name\", \"ngModel\"], [\"class\", \"alert-danger\", 4, \"ngIf\"], [\"for\", \"email\"], [\"type\", \"text\", \"name\", \"email\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"email\", \"ngModel\"], [\"for\", \"phone\"], [\"type\", \"number\", \"name\", \"phone\", \"required\", \"\", \"minlength\", \"10\", \"maxlength\", \"10\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"phone\", \"ngModel\"], [\"for\", \"amount\"], [\"type\", \"number\", \"name\", \"amount\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"amount\", \"ngModel\"], [1, \"btn\", \"btn-primary\", \"btn-block\"], [\"role\", \"alert\", 1, \"alert\", \"alert-danger\"], [\"role\", \"alert\", 1, \"alert\", \"alert-success\"], [1, \"alert-danger\"], [4, \"ngIf\"]],\n  template: function PaymentComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"form\", 2, 3);\n      i0.ɵɵlistener(\"ngSubmit\", function PaymentComponent_Template_form_ngSubmit_2_listener() {\n        return ctx.onSubmit();\n      });\n      i0.ɵɵelementStart(4, \"div\", 4);\n      i0.ɵɵtemplate(5, PaymentComponent_div_5_Template, 2, 1, \"div\", 5);\n      i0.ɵɵtemplate(6, PaymentComponent_div_6_Template, 2, 1, \"div\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"div\", 4)(8, \"label\", 7);\n      i0.ɵɵtext(9, \"Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"input\", 8, 9);\n      i0.ɵɵlistener(\"ngModelChange\", function PaymentComponent_Template_input_ngModelChange_10_listener($event) {\n        return ctx.form.name = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(12, PaymentComponent_div_12_Template, 4, 3, \"div\", 10);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"div\", 4)(14, \"label\", 11);\n      i0.ɵɵtext(15, \"Email\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"input\", 12, 13);\n      i0.ɵɵlistener(\"ngModelChange\", function PaymentComponent_Template_input_ngModelChange_16_listener($event) {\n        return ctx.form.email = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(18, PaymentComponent_div_18_Template, 2, 0, \"div\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"div\", 4)(20, \"label\", 14);\n      i0.ɵɵtext(21, \"Phone\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"input\", 15, 16);\n      i0.ɵɵlistener(\"ngModelChange\", function PaymentComponent_Template_input_ngModelChange_22_listener($event) {\n        return ctx.form.phone = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(24, PaymentComponent_div_24_Template, 3, 2, \"div\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(25, \"div\", 4)(26, \"label\", 17);\n      i0.ɵɵtext(27, \"Amount\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(28, \"input\", 18, 19);\n      i0.ɵɵlistener(\"ngModelChange\", function PaymentComponent_Template_input_ngModelChange_28_listener($event) {\n        return ctx.form.amount = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(30, PaymentComponent_div_30_Template, 2, 1, \"div\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(31, \"div\", 4)(32, \"button\", 20);\n      i0.ɵɵtext(33, \"Pay\");\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      const _r0 = i0.ɵɵreference(3);\n      const _r3 = i0.ɵɵreference(11);\n      const _r5 = i0.ɵɵreference(17);\n      const _r7 = i0.ɵɵreference(23);\n      const _r9 = i0.ɵɵreference(29);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", ctx.error);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.paymentId);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.form.name);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", _r0.submitted && _r3.invalid);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.form.email);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", _r0.submitted && _r5.invalid);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.form.phone);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", _r0.submitted && _r7.invalid);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.form.amount);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", _r0.submitted && _r9.invalid);\n    }\n  },\n  dependencies: [i3.NgIf, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NumberValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.MinLengthValidator, i4.MaxLengthValidator, i4.NgModel, i4.NgForm],\n  styles: [\"label[_ngcontent-%COMP%] {\\r\\n    display: block;\\r\\n    margin-top: 10px;\\r\\n  }\\r\\n   \\r\\n  .card-container.card[_ngcontent-%COMP%] {\\r\\n    max-width: 400px !important;\\r\\n    padding: 40px 40px;\\r\\n  }\\r\\n   \\r\\n  .card[_ngcontent-%COMP%] {\\r\\n    background-color: #f7f7f7;\\r\\n    padding: 20px 25px 30px;\\r\\n    margin: 0 auto 25px;\\r\\n    margin-top: 50px;\\r\\n    border-radius: 2px;\\r\\n    box-shadow: 0px 2px 2px rgba(0, 0, 0, 0.3);\\r\\n  }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGF5bWVudC9wYXltZW50LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxjQUFjO0lBQ2QsZ0JBQWdCO0VBQ2xCOztFQUVBO0lBQ0UsMkJBQTJCO0lBQzNCLGtCQUFrQjtFQUNwQjs7RUFFQTtJQUNFLHlCQUF5QjtJQUN6Qix1QkFBdUI7SUFDdkIsbUJBQW1CO0lBQ25CLGdCQUFnQjtJQUdoQixrQkFBa0I7SUFHbEIsMENBQTBDO0VBQzVDIiwic291cmNlc0NvbnRlbnQiOlsibGFiZWwge1xyXG4gICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICBtYXJnaW4tdG9wOiAxMHB4O1xyXG4gIH1cclxuICAgXHJcbiAgLmNhcmQtY29udGFpbmVyLmNhcmQge1xyXG4gICAgbWF4LXdpZHRoOiA0MDBweCAhaW1wb3J0YW50O1xyXG4gICAgcGFkZGluZzogNDBweCA0MHB4O1xyXG4gIH1cclxuICAgXHJcbiAgLmNhcmQge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2Y3ZjdmNztcclxuICAgIHBhZGRpbmc6IDIwcHggMjVweCAzMHB4O1xyXG4gICAgbWFyZ2luOiAwIGF1dG8gMjVweDtcclxuICAgIG1hcmdpbi10b3A6IDUwcHg7XHJcbiAgICAtbW96LWJvcmRlci1yYWRpdXM6IDJweDtcclxuICAgIC13ZWJraXQtYm9yZGVyLXJhZGl1czogMnB4O1xyXG4gICAgYm9yZGVyLXJhZGl1czogMnB4O1xyXG4gICAgLW1vei1ib3gtc2hhZG93OiAwcHggMnB4IDJweCByZ2JhKDAsIDAsIDAsIDAuMyk7XHJcbiAgICAtd2Via2l0LWJveC1zaGFkb3c6IDBweCAycHggMnB4IHJnYmEoMCwgMCwgMCwgMC4zKTtcclxuICAgIGJveC1zaGFkb3c6IDBweCAycHggMnB4IHJnYmEoMCwgMCwgMCwgMC4zKTtcclxuICB9Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","PaymentComponent","constructor","http","orderService","response","event","CustomEvent","detail","bubbles","cancelable","window","dispatchEvent","ngOnInit","sayHello","alert","onSubmit","paymentId","error","createOrder","form","subscribe","data","options","key","secretId","order_id","razorpayOrderId","amount","applicationFee","prefill","name","email","contact","pgName","image","rzp1","Razorpay","open","rzp2","on","console","log","code","description","source","step","reason","metadata","payment_id","err","message","onPaymentSuccess","selectors","hostBindings","ctx"],"sourceRoot":"","sources":["C:\\Users\\admin\\Desktop\\ProjectJava\\laptopshop\\src\\app\\payment\\payment.component.html","C:\\Users\\admin\\Desktop\\ProjectJava\\laptopshop\\src\\app\\payment\\payment.component.ts"],"sourcesContent":["<div class=\"col-md-12\">\n    <div class=\"card card-container\">\n        <form name=\"form\" (ngSubmit)=\"onSubmit()\" #f=\"ngForm\" novalidate>\n            <div class=\"form-group\">\n                <div class=\"alert alert-danger\" role=\"alert\" *ngIf=\"error\">Payment failed: {{ error }}</div>\n                <div class=\"alert alert-success\" role=\"alert\" *ngIf=\"paymentId\">Payment Success. Payment ID: {{ paymentId }}</div>\n            </div>\n            <div class=\"form-group\">\n                <label for=\"name\">Name</label> <input type=\"text\" class=\"form-control\" name=\"name\" [(ngModel)]=\"form.name\" required minlength=\"3\" maxlength=\"20\" #name=\"ngModel\" />\n                <div class=\"alert-danger\" *ngIf=\"f.submitted && name.invalid\">\n                    <div *ngIf=\"name.errors\">Name is required</div>\n                    <div *ngIf=\"name.errors\">Name must be at least 3 characters</div>\n                    <div *ngIf=\"name.errors\">Name must be at most 20 characters</div>\n                </div>\n            </div>\n            <div class=\"form-group\">\n                <label for=\"email\">Email</label> <input type=\"text\" class=\"form-control\" name=\"email\" [(ngModel)]=\"form.email\" required #email=\"ngModel\" />\n                <div class=\"alert alert-danger\" role=\"alert\" *ngIf=\"f.submitted && email.invalid\">Email is required!</div>\n            </div>\n            <div class=\"form-group\">\n                <label for=\"phone\">Phone</label> <input type=\"number\" class=\"form-control\" name=\"phone\" [(ngModel)]=\"form.phone\" required minlength=\"10\" maxlength=\"10\"\n                    #phone=\"ngModel\" />\n                <div class=\"alert alert-danger\" role=\"alert\" *ngIf=\"f.submitted && phone.invalid\">\n                    <div *ngIf=\"phone.errors\">Phone is required</div>\n                    <div *ngIf=\"phone.errors || phone.errors\">Phone must be 10 digits</div>\n                </div>\n            </div>\n            <div class=\"form-group\">\n                <label for=\"amount\">Amount</label> <input type=\"number\" class=\"form-control\" name=\"amount\" [(ngModel)]=\"form.amount\" required #amount=\"ngModel\" />\n                <div class=\"alert alert-danger\" role=\"alert\" *ngIf=\"f.submitted && amount.invalid\">\n                    <div *ngIf=\"amount.errors\">Amount is required</div>\n                </div>\n            </div>\n            <div class=\"form-group\">\n                <button class=\"btn btn-primary btn-block\">Pay</button>\n            </div>\n        </form>\n    </div>\n</div>\n","import { HttpClient } from '@angular/common/http';\nimport { Component, HostListener } from '@angular/core';\nimport { OrderServiceService } from '../service/orderservice.service';\n\ndeclare var Razorpay: any;\n@Component({\n  selector: 'app-payment',\n  templateUrl: './payment.component.html',\n  styleUrls: ['./payment.component.css']\n})\nexport class PaymentComponent {\n  title = 'laptopshop';\n\n  form: any = {}; \n  constructor(private http: HttpClient,\n    private orderService:OrderServiceService) {\n\n  }\n\n  ngOnInit() {\n    \n\n  }\n\n  sayHello() {\n    alert(\"Hello DK\");\n  }\n\n  paymentId: string='';\n  error: string='';\n  \n  options = {\n    \"key\": \"\",\n    \"amount\": \"\", \n    \"name\": \"Manali kulkarni\",\n    \"description\": \"\",\n    \"image\": \"https://www.javachinna.com/wp-content/uploads/2020/02/android-chrome-512x512-1.png\",\n    \"order_id\":\"\",\n    \"handler\": function (response:any){\n      var event = new CustomEvent(\"payment.success\", \n        {\n          detail: response,\n          bubbles: true,\n          cancelable: true\n        }\n      );\t  \n      window.dispatchEvent(event);\n    }\n    ,\n    \"prefill\": {\n    \"name\": \"\",\n    \"email\": \"\",\n    \"contact\": \"\"\n    },\n    \"notes\": {\n    \"address\": \"\"\n    },\n    \"theme\": {\n    \"color\": \"#3399cc\"\n    }\n    };\n  \n    onSubmit(): void {\n      this.paymentId = ''; \n      this.error = ''; \n      this.orderService.createOrder(this.form).subscribe(\n      data => {\n        this.options.key = data.secretId;\n        this.options.order_id = data.razorpayOrderId;\n        this.options.amount = data.applicationFee; //paise\n        this.options.prefill.name = \"Dipali Bharate\";\n        this.options.prefill.email = \"dipabharat\";\n        this.options.prefill.contact =\"9373280950\";\n        \n        if(data.pgName ==='razor2') {\n          this.options.image=\"\";\n          var rzp1 = new Razorpay(this.options);\n          rzp1.open();\n        } else {\n          var rzp2 = new Razorpay(this.options);\n          rzp2.open();\n        }\n       \n                \n        rzp1.on('payment.failed', function (response:any){    \n          // Todo - store this information in the server\n          console.log(response);\n          console.log(response.error.code);    \n          console.log(response.error.description);    \n          console.log(response.error.source);    \n          console.log(response.error.step);    \n          console.log(response.error.reason);    \n          console.log(response.error.metadata.order_id);    \n          console.log(response.error.metadata.payment_id);\n          //this.error = response.error.reason;\n        }\n        );\n      }\n      ,\n      err => {\n        this.error = err.error.message;\n      }\n      );\n    }\n\n    @HostListener('window:payment.success', ['$event']) \n    onPaymentSuccess(event:any): void {\n       console.log(event.detail);\n    }\n}\n\n\n\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}